/*
 * CODE BLOCK NODE STYLES
 * ======================
 * 
 * Styling for code blocks in the TipTap editor.
 * Features:
 * - Syntax highlighting support
 * - Monospace font for code readability
 * - Proper spacing and borders
 * - Dark/light theme support
 * 
 * Typography:
 * - Uses standardized monospace font for code
 * - Consistent with other code elements
 */

/* =====================
     CODE BLOCK CONTAINER
     ===================== */

.ProseMirror pre {
  background: var(--tt-gray-light-50);
  border: 1px solid var(--tt-border-color);
  border-radius: var(--tt-radius-md);
  padding: 1rem;
  margin: 1rem 0;
  overflow-x: auto;
  font-family: var(--tt-font-family-mono);
  font-size: var(--tt-font-size-sm);
  line-height: var(--tt-line-height-normal);
  color: var(--tt-text-primary);
  
  .dark & {
    background: var(--tt-gray-dark-100);
    border-color: var(--tt-border-color);
  }
  
  /* Code block content */
  code {
    background: none;
    border: none;
    padding: 0;
    margin: 0;
    font-family: inherit;
    font-size: inherit;
    line-height: inherit;
    color: inherit;
  }
}

/* =====================
     INLINE CODE
     ===================== */

.ProseMirror code {
  background: var(--tt-gray-light-100);
  border: 1px solid var(--tt-gray-light-200);
  border-radius: var(--tt-radius-sm);
  padding: 0.125rem 0.25rem;
  font-family: var(--tt-font-family-mono);
  font-size: 0.875em;
  color: var(--tt-text-primary);
  
  .dark & {
    background: var(--tt-gray-dark-200);
    border-color: var(--tt-gray-dark-300);
  }
}

/* =====================
     CODE BLOCK HEADER
     ===================== */

.ProseMirror pre[data-language] {
  position: relative;
  
  &::before {
    content: attr(data-language);
    position: absolute;
    top: 0;
    right: 0;
    background: var(--tt-gray-light-200);
    color: var(--tt-text-muted);
    padding: 0.25rem 0.5rem;
    font-size: var(--tt-font-size-xs);
    font-weight: var(--tt-font-weight-medium);
    border-radius: 0 var(--tt-radius-md) 0 var(--tt-radius-sm);
    font-family: var(--tt-font-family-primary);
    
    .dark & {
      background: var(--tt-gray-dark-300);
    }
  }
}

/* =====================
     CODE BLOCK FOCUS STATES
     ===================== */

.ProseMirror pre:focus-within {
  border-color: var(--tt-brand-color-500);
  box-shadow: 0 0 0 2px var(--tt-brand-color-100);
  
  .dark & {
    border-color: var(--tt-brand-color-400);
    box-shadow: 0 0 0 2px var(--tt-brand-color-900);
  }
}

/* =====================
     CODE BLOCK SCROLLBAR
     ===================== */

.ProseMirror pre::-webkit-scrollbar {
  height: 6px;
}

.ProseMirror pre::-webkit-scrollbar-track {
  background: var(--tt-gray-light-100);
  border-radius: 3px;
  
  .dark & {
    background: var(--tt-gray-dark-200);
  }
}

.ProseMirror pre::-webkit-scrollbar-thumb {
  background: var(--tt-gray-light-300);
  border-radius: 3px;
  
  &:hover {
    background: var(--tt-gray-light-400);
  }
  
  .dark & {
    background: var(--tt-gray-dark-400);
    
    &:hover {
      background: var(--tt-gray-dark-500);
    }
  }
}

/* =====================
     RESPONSIVE DESIGN
     ===================== */

@media (max-width: 768px) {
  .ProseMirror pre {
    padding: 0.75rem;
    font-size: var(--tt-font-size-xs);
    margin: 0.75rem 0;
  }
  
  .ProseMirror code {
    padding: 0.1rem 0.2rem;
    font-size: 0.8em;
  }
}
